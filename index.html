<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OpenWrt æ™ºèƒ½ç¼–è¯‘å·¥å…·</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/selection-fixes.css">
    <link rel="icon"
        href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ› ï¸</text></svg>">
</head>

<body>
    <!-- é¡µé¢å¤´éƒ¨ -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <h1>ğŸ› ï¸ OpenWrt æ™ºèƒ½ç¼–è¯‘å·¥å…·</h1>
                    <p>åŸºäºGitHub Actionsçš„å¯è§†åŒ–å›ºä»¶ç¼–è¯‘å¹³å°</p>
                </div>

                <!-- TokençŠ¶æ€æŒ‡ç¤ºå™¨ -->
                <div class="header-actions">
                    <div id="token-status-indicator" class="token-status-indicator">
                        <div class="status-dot" id="statusDot"></div>
                        <span id="statusText">æ£€æŸ¥TokençŠ¶æ€...</span>
                        <button class="btn-config" onclick="window.tokenModal.show()" id="configTokenBtn">
                            âš™ï¸ é…ç½®Token
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- ä¸»è¦å†…å®¹åŒºåŸŸ -->
    <main class="main">
        <div class="container">
            <!-- æ­¥éª¤æŒ‡ç¤ºå™¨ -->
            <div class="wizard-progress">
                <div class="step-indicator active" data-step="1">
                    <div class="step-number">1</div>
                    <div class="step-title">é€‰æ‹©æºç </div>
                </div>
                <div class="step-indicator" data-step="2">
                    <div class="step-number">2</div>
                    <div class="step-title">é€‰æ‹©è®¾å¤‡</div>
                </div>
                <div class="step-indicator" data-step="3">
                    <div class="step-number">3</div>
                    <div class="step-title">é€‰æ‹©æ’ä»¶</div>
                </div>
                <div class="step-indicator" data-step="4">
                    <div class="step-number">4</div>
                    <div class="step-title">å¼€å§‹ç¼–è¯‘</div>
                </div>
            </div>

            <!-- é…ç½®å‘å¯¼å†…å®¹ -->
            <div class="wizard-content">
                <!-- æ­¥éª¤1: æºç é€‰æ‹© -->
                <div class="step-content" id="step-1">
                    <div class="step-header">
                        <h2>ğŸ“¦ é€‰æ‹©æºç åˆ†æ”¯</h2>
                        <p>ä¸åŒçš„æºç åˆ†æ”¯æä¾›ä¸åŒçš„åŠŸèƒ½ç‰¹æ€§å’Œç¨³å®šæ€§</p>
                    </div>

                    <div class="search-box">
                        <input type="text" class="search-input" data-filter="source" placeholder="ğŸ” æœç´¢æºç åˆ†æ”¯...">
                    </div>

                    <div id="source-selection" class="selection-area">
                        <!-- æºç é€‰é¡¹å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                    </div>

                    <div class="step-actions">
                        <button class="btn btn-primary next-step-btn">ä¸‹ä¸€æ­¥ â†’</button>
                    </div>
                </div>

                <!-- æ­¥éª¤2: è®¾å¤‡é€‰æ‹© -->
                <div class="step-content" id="step-2" style="display: none;">
                    <div class="step-header">
                        <h2>ğŸ“± é€‰æ‹©ç›®æ ‡è®¾å¤‡</h2>
                        <p>é€‰æ‹©ä½ è¦ç¼–è¯‘å›ºä»¶çš„ç›®æ ‡è®¾å¤‡å‹å·</p>
                    </div>

                    <div class="search-box">
                        <input type="text" class="search-input" data-filter="device" placeholder="ğŸ” æœç´¢è®¾å¤‡å‹å·...">
                    </div>

                    <div id="device-selection" class="selection-area">
                        <!-- è®¾å¤‡é€‰é¡¹å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                    </div>

                    <div class="step-actions">
                        <button class="btn btn-secondary prev-step-btn">â† ä¸Šä¸€æ­¥</button>
                        <button class="btn btn-primary next-step-btn">ä¸‹ä¸€æ­¥ â†’</button>
                    </div>
                </div>

                <!-- æ­¥éª¤3: æ’ä»¶é€‰æ‹© -->
                <div class="step-content" id="step-3" style="display: none;">
                    <div class="step-header">
                        <h2>ğŸ”§ é€‰æ‹©åŠŸèƒ½æ’ä»¶</h2>
                        <p>æ ¹æ®éœ€æ±‚é€‰æ‹©è¦é›†æˆçš„åŠŸèƒ½æ’ä»¶</p>
                    </div>

                    <div class="search-box">
                        <input type="text" class="search-input" data-filter="plugin" placeholder="ğŸ” æœç´¢æ’ä»¶åŠŸèƒ½...">
                    </div>

                    <div id="plugin-selection" class="selection-area">
                        <!-- æ’ä»¶é€‰é¡¹å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                    </div>

                    <!-- å†²çªæ£€æµ‹é¢æ¿ -->
                    <div id="conflict-detection" class="conflict-detection">
                        <!-- å†²çªæ£€æµ‹ç»“æœå°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                    </div>

                    <div class="step-actions">
                        <button class="btn btn-secondary prev-step-btn">â† ä¸Šä¸€æ­¥</button>
                        <button class="btn btn-primary next-step-btn">ä¸‹ä¸€æ­¥ â†’</button>
                    </div>
                </div>

                <!-- æ­¥éª¤4: é…ç½®æ‘˜è¦å’Œç¼–è¯‘ -->
                <div class="step-content" id="step-4" style="display: none;">
                    <div class="step-header">
                        <h2>ğŸš€ å¼€å§‹ç¼–è¯‘</h2>
                        <p>ç¡®è®¤é…ç½®ä¿¡æ¯å¹¶å¼€å§‹ç¼–è¯‘å›ºä»¶</p>
                    </div>

                    <div id="config-summary" class="config-summary">
                        <!-- é…ç½®æ‘˜è¦å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                    </div>

                    <div class="step-actions">
                        <button class="btn btn-secondary prev-step-btn">â† ä¸Šä¸€æ­¥</button>
                    </div>
                </div>
            </div>

            <!-- ç¼–è¯‘ç›‘æ§é¢æ¿ -->
            <div id="build-monitor" class="build-monitor" style="display: none;">
                <div class="monitor-header">
                    <h2>ğŸ“Š ç¼–è¯‘è¿›åº¦ç›‘æ§</h2>
                    <div class="monitor-actions">
                        <button class="btn btn-secondary" onclick="window.wizardManager.stopMonitoring()">
                            ğŸ›‘ åœæ­¢ç›‘æ§
                        </button>
                        <button class="btn btn-secondary"
                            onclick="window.open(`https://github.com/${GITHUB_REPO}/actions`, '_blank')">
                            ğŸ”— æŸ¥çœ‹GitHub Actions
                        </button>
                    </div>
                </div>

                <!-- è¿›åº¦æ¡ -->
                <div class="progress-container">
                    <div class="progress-bar-container">
                        <div id="progress-bar" class="progress-bar"></div>
                    </div>
                    <div class="progress-info">
                        <span id="progress-text">0%</span>
                        <span id="progress-time">å‡†å¤‡ä¸­...</span>
                    </div>
                </div>

                <!-- ç¼–è¯‘æ—¥å¿— -->
                <div class="logs-container">
                    <div class="logs-header">
                        <h3>ğŸ“ ç¼–è¯‘æ—¥å¿—</h3>
                        <button class="btn btn-small" onclick="document.getElementById('logs-content').innerHTML = ''">
                            ğŸ—‘ï¸ æ¸…ç©ºæ—¥å¿—
                        </button>
                    </div>
                    <div id="logs-content" class="logs-content">
                        <!-- æ—¥å¿—å†…å®¹å°†é€šè¿‡JavaScriptåŠ¨æ€æ·»åŠ  -->
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- é¡µé¢åº•éƒ¨ -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>ğŸ”— ç›¸å…³é“¾æ¥</h4>
                    <ul>
                        <li><a href="https://openwrt.org" target="_blank">OpenWrtå®˜ç½‘</a></li>
                        <li><a href="https://github.com/coolsnowwolf/lede" target="_blank">Lean's LEDE</a></li>
                        <li><a href="https://github.com/immortalwrt/immortalwrt" target="_blank">ImmortalWrt</a></li>
                    </ul>
                </div>

                <div class="footer-section">
                    <h4>ğŸ“– ä½¿ç”¨å¸®åŠ©</h4>
                    <ul>
                        <li><a href="#" onclick="showHelpModal()">ä½¿ç”¨è¯´æ˜</a></li>
                        <li><a href="#" onclick="showFAQModal()">å¸¸è§é—®é¢˜</a></li>
                        <li><a href="#" onclick="showContactModal()">è”ç³»æ”¯æŒ</a></li>
                    </ul>
                </div>

                <div class="footer-section">
                    <h4>âš™ï¸ å·¥å…·è®¾ç½®</h4>
                    <ul>
                        <li><a href="#" onclick="window.tokenModal.show()">é…ç½®Token</a></li>
                        <li><a href="#" onclick="window.tokenModal.clear()">æ¸…é™¤é…ç½®</a></li>
                        <li><a href="#" onclick="showSettingsModal()">é«˜çº§è®¾ç½®</a></li>
                    </ul>
                </div>
            </div>

            <div class="footer-bottom">
                <p>&copy; 2024 OpenWrtæ™ºèƒ½ç¼–è¯‘å·¥å…· | åŸºäºGitHub Actions | å¼€æºé¡¹ç›®</p>
            </div>
        </div>
    </footer>

    <!-- å¼•å…¥Tokené…ç½®æ¨¡æ€æ¡†ç»„ä»¶ -->
    <div id="token-modal-container"></div>

    <!-- JavaScriptæ–‡ä»¶å¼•å…¥ -->
    <script src="js/config-data.js"></script>
    <script src="js/token-modal.js"></script>
    <script src="js/build-monitor.js"></script> <!-- æ–°å¢ -->
    <script src="js/wizard.js"></script>
    <script src="js/builder.js"></script>

    <!-- é¡µé¢åˆå§‹åŒ–è„šæœ¬ -->
    <script>
        // é¡µé¢åŠ è½½å®Œæˆåçš„åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function () {
            console.log('ğŸ¯ OpenWrtæ™ºèƒ½ç¼–è¯‘å·¥å…· - é¡µé¢åŠ è½½å®Œæˆ');

            // åˆå§‹åŒ–Tokenæ¨¡æ€æ¡†
            initTokenModal();

            // æ£€æŸ¥TokençŠ¶æ€
            updateTokenStatus();

            // ç›‘å¬Tokené…ç½®äº‹ä»¶
            window.addEventListener('tokenConfigured', function (event) {
                updateTokenStatus();
                console.log('âœ… Tokené…ç½®å®Œæˆ:', event.detail.token.substring(0, 8) + '...');
            });
        });

        // åˆå§‹åŒ–Tokenæ¨¡æ€æ¡†
        function initTokenModal() {
            // åŠ¨æ€åŠ è½½Tokenæ¨¡æ€æ¡†HTML
            fetch('components/token-modal.html')
                .then(response => response.text())
                .then(html => {
                    document.getElementById('token-modal-container').innerHTML = html;
                })
                .catch(error => {
                    console.warn('Tokenæ¨¡æ€æ¡†ç»„ä»¶åŠ è½½å¤±è´¥ï¼Œä½¿ç”¨å†…è”ç‰ˆæœ¬:', error);
                    // å¦‚æœå¤–éƒ¨æ–‡ä»¶åŠ è½½å¤±è´¥ï¼Œä½¿ç”¨å†…è”çš„Tokenæ¨¡æ€æ¡†
                    loadInlineTokenModal();
                });
        }

        // åŠ è½½å†…è”Tokenæ¨¡æ€æ¡†ï¼ˆå¤‡ç”¨æ–¹æ¡ˆï¼‰
        function loadInlineTokenModal() {
            const modalHTML = `
                <!-- Tokené…ç½®æ¨¡æ€æ¡† -->
                <div id="tokenModal" class="token-modal">
                    <div class="token-dialog">
                        <div class="token-header">
                            <h2>ğŸ” GitHub Token é…ç½®</h2>
                            <p>ä¸ºäº†æ­£å¸¸ä½¿ç”¨ç¼–è¯‘åŠŸèƒ½ï¼Œéœ€è¦é…ç½®GitHub Personal Access Token</p>
                        </div>

                        <div id="tokenStatus" class="token-status" style="display: none;">
                            <span id="statusIcon">âœ…</span>
                            <span id="statusText">Tokené…ç½®æˆåŠŸ</span>
                        </div>

                        <div class="token-security-tips">
                            <div class="security-title">ğŸ›¡ï¸ å®‰å…¨æç¤º</div>
                            <div class="security-tips">
                                â€¢ Tokenå…·æœ‰è®¿é—®GitHubçš„æƒé™ï¼Œè¯·å¦¥å–„ä¿ç®¡<br>
                                â€¢ å»ºè®®åˆ›å»ºæƒé™æœ€å°çš„Tokenï¼ˆåªé€‰æ‹©å¿…è¦æƒé™ï¼‰<br>
                                â€¢ ä¸è¦åœ¨å…¬å…±åœºæ‰€æˆ–ä»–äººè®¾å¤‡ä¸Šä¿å­˜Token<br>
                                â€¢ å®šæœŸæ›´æ¢Tokenä»¥æé«˜å®‰å…¨æ€§
                            </div>
                        </div>

                        <div class="token-methods">
                            <div class="token-method active" data-method="input">
                                <div class="method-icon">âŒ¨ï¸</div>
                                <div class="method-title">æ‰‹åŠ¨è¾“å…¥</div>
                                <div class="method-desc">ç›´æ¥è¾“å…¥GitHub Token</div>
                            </div>
                            <div class="token-method" data-method="guide">
                                <div class="method-icon">ğŸ“‹</div>
                                <div class="method-title">åˆ›å»ºæŒ‡å—</div>
                                <div class="method-desc">æŸ¥çœ‹Tokenåˆ›å»ºæ­¥éª¤</div>
                            </div>
                        </div>

                        <div id="inputSection" class="token-input-section show">
                            <div class="input-group">
                                <label for="tokenInput" class="input-label">GitHub Personal Access Token</label>
                                <input type="password" id="tokenInput" class="input-field" 
                                       placeholder="è¯·è¾“å…¥ä»¥ ghp_ æˆ– github_pat_ å¼€å¤´çš„Token">
                                <div class="input-help">
                                    Tokenæ ¼å¼: ghp_xxxxxxxxxxxx æˆ– github_pat_xxxxxxxxxxxx
                                </div>
                            </div>
                            <div class="input-group">
                                <label>
                                    <input type="checkbox" id="saveToken"> 
                                    ä¿å­˜åˆ°æµè§ˆå™¨æœ¬åœ°å­˜å‚¨ï¼ˆä»…åœ¨ä¸ªäººè®¾å¤‡ä¸Šå‹¾é€‰ï¼‰
                                </label>
                            </div>
                        </div>

                        <div id="guideSection" class="token-input-section">
                            <div class="github-steps">
                                <h4>ğŸ“ GitHub Token åˆ›å»ºæ­¥éª¤</h4>
                                <ol>
                                    <li>ç™»å½•GitHubï¼Œç‚¹å‡»å³ä¸Šè§’å¤´åƒ â†’ <code>Settings</code></li>
                                    <li>é€‰æ‹© <code>Developer settings</code> â†’ <code>Personal access tokens</code></li>
                                    <li>ç‚¹å‡» <code>Generate new token (classic)</code></li>
                                    <li>å¡«å†™Tokenæè¿°ï¼Œé€‰æ‹©è¿‡æœŸæ—¶é—´</li>
                                    <li>é€‰æ‹©æƒé™ï¼š<code>repo</code> å’Œ <code>workflow</code></li>
                                    <li>ç‚¹å‡»ç”Ÿæˆå¹¶ç«‹å³å¤åˆ¶Token</li>
                                </ol>
                            </div>
                            <div class="input-group">
                                <label for="guideTokenInput" class="input-label">å°†åˆ›å»ºçš„Tokenç²˜è´´åˆ°è¿™é‡Œ</label>
                                <input type="password" id="guideTokenInput" class="input-field" 
                                       placeholder="ghp_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx">
                            </div>
                        </div>

                        <div class="token-actions">
                            <button class="btn btn-secondary" onclick="closeTokenModal()">å–æ¶ˆ</button>
                            <button class="btn btn-primary" onclick="saveTokenConfig()">ä¿å­˜é…ç½®</button>
                            <button class="btn btn-secondary" onclick="testTokenConnection()" style="display: none;" id="testBtn">æµ‹è¯•è¿æ¥</button>
                        </div>
                    </div>
                </div>
            `;

            document.getElementById('token-modal-container').innerHTML = modalHTML;

            // åˆå§‹åŒ–Tokenæ¨¡æ€æ¡†åŠŸèƒ½
            if (typeof window.tokenModal === 'undefined') {
                initInlineTokenModal();
            }
        }

        // åˆå§‹åŒ–å†…è”Tokenæ¨¡æ€æ¡†åŠŸèƒ½
        function initInlineTokenModal() {
            window.tokenModal = {
                show: () => document.getElementById('tokenModal').classList.add('show'),
                close: () => document.getElementById('tokenModal').classList.remove('show'),
                clear: clearTokenConfig
            };
        }

        // æ›´æ–°TokençŠ¶æ€æŒ‡ç¤ºå™¨
        function updateTokenStatus() {
            const statusDot = document.getElementById('statusDot');
            const statusText = document.getElementById('statusText');
            const configBtn = document.getElementById('configTokenBtn');

            const token = getValidToken();

            // å¢åŠ åˆ¤ç©ºï¼Œé¿å…æŠ¥é”™
            if (!statusDot || !statusText || !configBtn) {
                console.warn('TokençŠ¶æ€æŒ‡ç¤ºå™¨å…ƒç´ æœªæ‰¾åˆ°');
                return;
            }

            if (token) {
                statusDot.className = 'status-dot valid';
                statusText.textContent = 'Tokenå·²é…ç½®';
                configBtn.innerHTML = 'âœ… å·²é…ç½®';
                configBtn.classList.add('configured');
            } else {
                statusDot.className = 'status-dot invalid';
                statusText.textContent = 'éœ€è¦é…ç½®Token';
                configBtn.innerHTML = 'âš™ï¸ é…ç½®Token';
                configBtn.classList.remove('configured');
            }
        }

        // è·å–æœ‰æ•ˆToken
        function getValidToken() {
            // æ£€æŸ¥å¤šä¸ªæ¥æºçš„Token
            const sources = [
                new URLSearchParams(window.location.search).get('token'),
                localStorage.getItem('github_token'),
                window.GITHUB_TOKEN
            ];

            for (const token of sources) {
                if (token && (token.startsWith('ghp_') || token.startsWith('github_pat_'))) {
                    return token;
                }
            }
            return null;
        }

        // æ˜¾ç¤ºTokenæ¨¡æ€æ¡†
        function showTokenModal() {
            if (window.tokenModal) {
                window.tokenModal.show();
            } else {
                document.getElementById('tokenModal').classList.add('show');
            }
        }

        // å…³é—­Tokenæ¨¡æ€æ¡†
        function closeTokenModal() {
            if (window.tokenModal) {
                window.tokenModal.close();
            } else {
                document.getElementById('tokenModal').classList.remove('show');
            }
        }

        // ä¿å­˜Tokené…ç½®
        function saveTokenConfig() {
            const tokenInput = document.getElementById('tokenInput') || document.getElementById('guideTokenInput');
            const token = tokenInput.value.trim();

            if (!token) {
                alert('è¯·è¾“å…¥GitHub Token');
                return;
            }

            if (!token.startsWith('ghp_') && !token.startsWith('github_pat_')) {
                alert('Tokenæ ¼å¼ä¸æ­£ç¡®ï¼Œè¯·æ£€æŸ¥è¾“å…¥');
                return;
            }

            // ä¿å­˜Token
            const shouldSave = document.getElementById('saveToken')?.checked || true;
            if (shouldSave) {
                localStorage.setItem('github_token', token);
            }

            window.GITHUB_TOKEN = token;

            // è§¦å‘é…ç½®å®Œæˆäº‹ä»¶
            window.dispatchEvent(new CustomEvent('tokenConfigured', { detail: { token } }));

            alert('Tokené…ç½®æˆåŠŸï¼');
            closeTokenModal();
        }

        // æ¸…é™¤Tokené…ç½®
        function clearTokenConfig() {
            if (confirm('ç¡®å®šè¦æ¸…é™¤Tokené…ç½®å—ï¼Ÿ')) {
                localStorage.removeItem('github_token');
                delete window.GITHUB_TOKEN;

                // æ¸…ç©ºè¾“å…¥æ¡†
                const inputs = document.querySelectorAll('#tokenInput, #guideTokenInput');
                inputs.forEach(input => {
                    if (input) input.value = '';
                });

                updateTokenStatus();
                alert('Tokené…ç½®å·²æ¸…é™¤');
            }
        }

        // æµ‹è¯•Tokenè¿æ¥
        async function testTokenConnection() {
            const token = document.getElementById('tokenInput').value.trim();
            if (!token) return;

            try {
                const response = await fetch('https://api.github.com/user', {
                    headers: {
                        'Authorization': `token ${token}`,
                        'Accept': 'application/vnd.github.v3+json'
                    }
                });

                if (response.ok) {
                    const userData = await response.json();
                    alert(`è¿æ¥æˆåŠŸï¼ç”¨æˆ·: ${userData.login}`);
                } else {
                    throw new Error(`HTTP ${response.status}: ${response.statusText}`);
                }
            } catch (error) {
                alert(`è¿æ¥å¤±è´¥: ${error.message}`);
            }
        }

        // Tokené…ç½®å®Œæˆå›è°ƒï¼ˆä¾›å…¶ä»–è„šæœ¬è°ƒç”¨ï¼‰
        function onTokenConfigured(token) {
            updateTokenStatus();

            // é€šçŸ¥å‘å¯¼ç®¡ç†å™¨
            if (window.wizardManager && window.wizardManager.onTokenConfigured) {
                window.wizardManager.onTokenConfigured(token);
            }
        }

        // æ˜¾ç¤ºå¸®åŠ©æ¨¡æ€æ¡†
        function showHelpModal() {
            alert('ğŸ“– ä½¿ç”¨è¯´æ˜\n\n1. é…ç½®GitHub Token\n2. é€‰æ‹©æºç åˆ†æ”¯\n3. é€‰æ‹©ç›®æ ‡è®¾å¤‡\n4. é€‰æ‹©åŠŸèƒ½æ’ä»¶\n5. å¼€å§‹ç¼–è¯‘\n\nè¯¦ç»†è¯´æ˜è¯·æŸ¥çœ‹é¡¹ç›®READMEæ–‡ä»¶ã€‚');
        }

        // æ˜¾ç¤ºFAQæ¨¡æ€æ¡†
        function showFAQModal() {
            alert('â“ å¸¸è§é—®é¢˜\n\nQ: ç¼–è¯‘å¤±è´¥æ€ä¹ˆåŠï¼Ÿ\nA: æ£€æŸ¥æ’ä»¶å†²çªï¼Œå‡å°‘æ’ä»¶æ•°é‡ï¼ŒæŸ¥çœ‹ç¼–è¯‘æ—¥å¿—\n\nQ: å¦‚ä½•ä¸‹è½½å›ºä»¶ï¼Ÿ\nA: ç¼–è¯‘å®Œæˆååœ¨GitHub Releasesé¡µé¢ä¸‹è½½\n\nQ: æ”¯æŒå“ªäº›è®¾å¤‡ï¼Ÿ\nA: æ”¯æŒä¸»æµè·¯ç”±å™¨ã€ARMå¼€å‘æ¿ã€X86è®¾å¤‡');
        }

        // æ˜¾ç¤ºè”ç³»æ”¯æŒæ¨¡æ€æ¡†
        function showContactModal() {
            alert('ğŸ“ è”ç³»æ”¯æŒ\n\nâ€¢ GitHub Issues: æäº¤BugæŠ¥å‘Šå’ŒåŠŸèƒ½å»ºè®®\nâ€¢ GitHub Discussions: ç¤¾åŒºè®¨è®ºå’Œé—®ç­”\nâ€¢ é¡¹ç›®Wiki: è¯¦ç»†ä½¿ç”¨æ–‡æ¡£\n\né¡¹ç›®åœ°å€: https://github.com/your-username/your-repo');
        }

        // æ˜¾ç¤ºè®¾ç½®æ¨¡æ€æ¡†
        function showSettingsModal() {
            alert('âš™ï¸ é«˜çº§è®¾ç½®\n\nâ€¢ ç¼–è¯‘ä¼˜åŒ–é€‰é¡¹\nâ€¢ è‡ªå®šä¹‰æ’ä»¶æº\nâ€¢ æ„å»ºç¼“å­˜è®¾ç½®\nâ€¢ é€šçŸ¥é…ç½®\n\nåŠŸèƒ½å¼€å‘ä¸­ï¼Œæ•¬è¯·æœŸå¾…...');
        }
    </script>

    <!-- Tokenæ¨¡æ€æ¡†æ ·å¼ï¼ˆå†…è”æ ·å¼ä½œä¸ºå¤‡ç”¨ï¼‰ -->
    <style>
        /* TokençŠ¶æ€æŒ‡ç¤ºå™¨æ ·å¼ */
        .token-status-indicator {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 8px 16px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            backdrop-filter: blur(10px);
        }

        .status-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        .status-dot.valid {
            background: #27ae60;
        }

        .status-dot.invalid {
            background: #e74c3c;
        }

        .status-dot.checking {
            background: #f39c12;
        }

        @keyframes pulse {
            0% {
                opacity: 1;
            }

            50% {
                opacity: 0.5;
            }

            100% {
                opacity: 1;
            }
        }

        .btn-config {
            padding: 6px 12px;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 6px;
            font-size: 0.85rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-config:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-1px);
        }

        .btn-config.configured {
            background: rgba(39, 174, 96, 0.8);
            border-color: rgba(39, 174, 96, 0.9);
        }

        /* Tokenæ¨¡æ€æ¡†æ ·å¼ */
        .token-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.7);
            z-index: 10000;
            align-items: center;
            justify-content: center;
        }

        .token-modal.show {
            display: flex;
        }

        .token-dialog {
            background: white;
            border-radius: 15px;
            padding: 30px;
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            animation: modalSlideIn 0.3s ease-out;
        }

        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: translateY(-50px) scale(0.9);
            }

            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .token-header {
            text-align: center;
            margin-bottom: 25px;
        }

        .token-header h2 {
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .token-header p {
            color: #666;
            line-height: 1.6;
        }

        .token-methods {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 25px;
        }

        .token-method {
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .token-method:hover {
            border-color: #667eea;
            background: #f8f9ff;
        }

        .token-method.active {
            border-color: #667eea;
            background: linear-gradient(135deg, #667eea10, #764ba210);
        }

        .method-icon {
            font-size: 2rem;
            margin-bottom: 10px;
        }

        .method-title {
            font-weight: bold;
            margin-bottom: 8px;
            color: #2c3e50;
        }

        .method-desc {
            font-size: 0.9rem;
            color: #666;
        }

        .token-input-section {
            display: none;
            margin-top: 20px;
        }

        .token-input-section.show {
            display: block;
        }

        .input-group {
            margin-bottom: 20px;
        }

        .input-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #2c3e50;
        }

        .input-field {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 14px;
            font-family: 'Courier New', monospace;
            transition: border-color 0.3s ease;
            box-sizing: border-box;
        }

        .input-field:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .input-help {
            font-size: 0.85rem;
            color: #666;
            margin-top: 5px;
        }

        .token-actions {
            display: flex;
            gap: 15px;
            justify-content: flex-end;
            margin-top: 25px;
        }

        .token-security-tips {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-left: 4px solid #fdcb6e;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .security-title {
            font-weight: bold;
            color: #856404;
            margin-bottom: 8px;
        }

        .security-tips {
            font-size: 0.9rem;
            color: #856404;
            line-height: 1.5;
        }

        .github-steps {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .github-steps h4 {
            margin-bottom: 15px;
            color: #2c3e50;
        }

        .github-steps code {
            background: #e9ecef;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
        }

        @media (max-width: 768px) {
            .token-methods {
                grid-template-columns: 1fr;
            }

            .token-actions {
                flex-direction: column;
            }

            .token-dialog {
                padding: 20px;
                margin: 20px;
            }

            .token-status-indicator {
                flex-direction: column;
                gap: 5px;
                text-align: center;
            }
        }
    </style>
</body>

</html>